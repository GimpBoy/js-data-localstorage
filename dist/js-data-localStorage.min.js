/**
* @author Jason Dobry <jason.dobry@gmail.com>
* @file js-data-localStorage.min.js
* @version 0.1.0 - Homepage <http://wwwjs-data.io/js-data-localStorage>
* @copyright (c) 2014 Jason Dobry
* @license MIT <https://github.com/js-data/js-data-localStorage/blob/master/LICENSE>
*
* @overview My Adapter.
*/
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.DSLocalStorageAdapter=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("./isKind"),d=Array.isArray||function(a){return c(a,"Array")};b.exports=d},{"./isKind":2}],2:[function(a,b){function c(a,b){return d(a)===b}var d=a("./kindOf");b.exports=c},{"./kindOf":3}],3:[function(a,b){function c(a){return null===a?"Null":a===d?"Undefined":e.exec(f.call(a))[1]}var d,e=/^\[object (.*)\]$/,f=Object.prototype.toString;b.exports=c},{}],4:[function(a,b){b.exports=2147483647},{}],5:[function(a,b){b.exports=-2147483648},{}],6:[function(a,b){function c(a){var b=1===arguments.length&&e(a)?a:arguments;return b[d(0,b.length-1)]}var d=a("./randInt"),e=a("../lang/isArray");b.exports=c},{"../lang/isArray":1,"./randInt":10}],7:[function(a,b){function c(){return d(8)+"-"+d(4)+"-4"+d(3)+"-"+e(8,9,"a","b")+d(3)+"-"+d(12)}var d=a("./randHex"),e=a("./choice");b.exports=c},{"./choice":6,"./randHex":9}],8:[function(a,b){function c(a,b){return a=null==a?e:a,b=null==b?f:b,a+(b-a)*d()}var d=a("./random"),e=a("../number/MIN_INT"),f=a("../number/MAX_INT");b.exports=c},{"../number/MAX_INT":4,"../number/MIN_INT":5,"./random":11}],9:[function(a,b){function c(a){a=a&&a>0?a:6;for(var b="";a--;)b+=d(e);return b}var d=a("./choice"),e="0123456789abcdef".split("");b.exports=c},{"./choice":6}],10:[function(a,b){function c(a,b){return a=null==a?d:~~a,b=null==b?e:~~b,Math.round(f(a-.5,b+.499999999999))}var d=a("../number/MIN_INT"),e=a("../number/MAX_INT"),f=a("./rand");b.exports=c},{"../number/MAX_INT":4,"../number/MIN_INT":5,"./rand":8}],11:[function(a,b){function c(){return c.get()}c.get=Math.random,b.exports=c},{}],12:[function(a,b){function c(){}function d(a){a=a||{},this.defaults=new c,g(this.defaults,a)}var e;e=!window&&"undefined"!=typeof b&&b.exports?a("js-data"):window.JSData;var f=e.DSUtils.makePath,g=e.DSUtils.deepMixIn,h=a("mout/random/guid"),i=e.DSUtils.Promise;d.prototype.GET=function(a){return new i(function(b){var c=localStorage.getItem(a);b(c?DSUtils.fromJson(c):void 0)})},d.prototype.PUT=function(a,b){var c=this;return c.GET(a).then(function(d){return d&&g(d,b),localStorage.setItem(a,toJson(d||b)),c.GET(a)})},d.prototype.DEL=function(a){return new i(function(b){localStorage.removeItem(a),b()})},d.prototype.find=function(a,b,c){return c=c||{},this.GET(f(c.baseUrl||a.baseUrl,a.endpoint,b))},d.prototype.findAll=function(){throw new Error("DSLocalStorageAdapter.findAll is not supported!")},d.prototype.create=function(a,b,c){return b[a.idAttribute]=b[a.idAttribute]||h(),c=c||{},this.PUT(f(c.baseUrl||a.baseUrl,a.getEndpoint(b,c),b[a.idAttribute]),b)},d.prototype.update=function(a,b,c,d){return d=d||{},this.PUT(f(d.baseUrl||a.baseUrl,a.getEndpoint(b,d),b),c)},d.prototype.updateAll=function(){throw new Error("DSLocalStorageAdapter.updateAll is not supported!")},d.prototype.destroy=function(a,b,c){return c=c||{},this.DEL(f(c.baseUrl||a.baseUrl,a.getEndpoint(b,c),b))},d.prototype.destroyAll=function(){throw new Error("Not supported!")},b.exports=d},{"js-data":"js-data","mout/random/guid":7}]},{},[12])(12)});