{"version":3,"file":"js-data-localstorage.min.js","sources":["js-data-localstorage.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","enqueue","task","queue","push","dequeue","length","taskInProcess","queueTask","createTask","fn","DSUtils","Promise","then","result","shift","setTimeout","err","reject","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","JSData","keys","guid","emptyStore","DS","omit","makePath","deepMixIn","toJson","fromJson","forEach","removeCircular","filter","defaults","defaultFilter","Defaults","basePath","DSLocalStorageAdapter","options","value","resourceConfig","name","endpoint","ids","undefined","idsPath","getPath","idsJson","localStorage","getItem","setItem","getIds","saveKeys","resolve","item","GET","removeItem","_this","getIdPath","Error","params","_this2","allowSimpleWhere","items","itemJson","attrs","_this3","idAttribute","PUT","relationFields","ensureId","_this4","_this5","findAll","tasks","update","all","_this6","DEL","removeId","_this7","destroy","forOwn","obj","val","randHex","choice","thisObj","forIn","hasOwn","size","str","_chars","split","arguments","isArray","randInt","min","max","MIN_INT","MAX_INT","Math","round","rand","isKind","Array","prop","hasOwnProperty","checkDontEnum","_dontEnums","_hasDontEnumBug","toString","exec","ctor","constructor","isProto","random","kind","kindOf","get","UNDEF","_rKind","_toString"],"mappings":";;;;;;;;;;CASA,SAA2CA,EAAMC,GAC1B,gBAAZC,UAA0C,gBAAXC,QACxCA,OAAOD,QAAUD,EAAQG,QAAQ,YACR,kBAAXC,SAAyBA,OAAOC,IAC9CD,QAAQ,WAAYJ,GACM,gBAAZC,SACdA,QAA+B,sBAAID,EAAQG,QAAQ,YAEnDJ,EAA4B,sBAAIC,EAAQD,EAAa,SACpDO,KAAM,SAASC,GAClB,MAAgB,UAAUC,GAKhB,QAASC,GAAoBC,GAG5B,GAAGC,EAAiBD,GACnB,MAAOC,GAAiBD,GAAUT,OAGnC,IAAIC,GAASS,EAAiBD,IAC7BT,WACAW,GAAIF,EACJG,QAAQ,EAUT,OANAL,GAAQE,GAAUI,KAAKZ,EAAOD,QAASC,EAAQA,EAAOD,QAASQ,GAG/DP,EAAOW,QAAS,EAGTX,EAAOD,QAvBf,GAAIU,KAqCJ,OATAF,GAAoBM,EAAIP,EAGxBC,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,GAGjBR,EAAoB,KAK/B,SAASP,EAAQD,EAASQ,GA+B/B,QAASS,GAAQC,GACfC,EAAMC,KAAKF,GAGb,QAASG,KACHF,EAAMG,SAAWC,IACnBA,GAAgB,EAChBJ,EAAM,MAIV,QAASK,GAAUN,GACZC,EAAMG,OAITL,EAAQC,IAHRD,EAAQC,GACRG,KAMJ,QAASI,GAAWC,GAClB,MAAO,IAAIC,GAAQC,QAAQF,GAAIG,KAAK,SAAUC,GAI5C,MAHAP,IAAgB,EAChBJ,EAAMY,QACNC,WAAWX,EAAS,GACbS,GACN,SAAUG,GAIX,MAHAV,IAAgB,EAChBJ,EAAMY,QACNC,WAAWX,EAAS,GACbM,EAAQC,QAAQM,OAAOD,KA3DlC,GAAIE,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAMhB,OAAQiB,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeR,EAAQG,EAAWM,IAAKN,IAAiB,MAAO,UAAUO,EAAaC,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBW,EAAYG,UAAWF,GAAiBC,GAAab,EAAiBW,EAAaE,GAAqBF,MAE7hBI,EAAkB,SAAUC,EAAUL,GAAe,KAAMK,YAAoBL,IAAgB,KAAM,IAAIM,WAAU,sCAEnHC,EAAS9C,EAAoB,GAC7B+C,EAAO/C,EAAoB,GAC3BgD,EAAOhD,EAAoB,GAE3BiD,EAAa,GAAIH,GAAOI,GACxB/B,EAAU2B,EAAO3B,QACjBgC,EAAOhC,EAAQgC,KACfC,EAAWjC,EAAQiC,SACnBC,EAAYlC,EAAQkC,UACpBC,EAASnC,EAAQmC,OACjBC,EAAWpC,EAAQoC,SACnBC,EAAUrC,EAAQqC,QAClBC,EAAiBtC,EAAQsC,eAEzBC,EAAST,EAAWU,SAASC,cAE7BC,EAAW,QAASA,KACtBlB,EAAgB9C,KAAMgE,GAGxBA,GAASnB,UAAUoB,SAAW,EAE9B,IAAInD,MACAI,GAAgB,EAoChBgD,EAAwB,WAC1B,QAASA,GAAsBC,GAC7BrB,EAAgB9C,KAAMkE,GAEtBC,EAAUA,MACVnE,KAAK8D,SAAW,GAAIE,GACpBR,EAAUxD,KAAK8D,SAAUK,GA+L3B,MA5LArC,GAAaoC,IACXzB,IAAK,UACL2B,MAAO,SAAiBC,EAAgBF,GACtC,MAAOZ,GAASY,EAAQF,UAAYjE,KAAK8D,SAASG,UAAYI,EAAeJ,SAAUI,EAAeC,SAGxG7B,IAAK,YACL2B,MAAO,SAAmBC,EAAgBF,EAAS7D,GACjD,MAAOiD,GAASY,EAAQF,UAAYjE,KAAK8D,SAASG,UAAYI,EAAeJ,SAAUI,EAAeE,SAAUjE,MAGlHmC,IAAK,SACL2B,MAAO,SAAgBC,EAAgBF,GACrC,GAAIK,GAAMC,OACNC,EAAU1E,KAAK2E,QAAQN,EAAgBF,GACvCS,EAAUC,aAAaC,QAAQJ,EAOnC,OANIE,GACFJ,EAAMd,EAASkB,IAEfC,aAAaE,QAAQL,EAASjB,OAC9Be,MAEKA,KAGT/B,IAAK,WACL2B,MAAO,SAAkBI,EAAKH,EAAgBF,GAC5CU,aAAaE,QAAQ/E,KAAK2E,QAAQN,EAAgBF,GAAUV,EAAOe,OAGrE/B,IAAK,WACL2B,MAAO,SAAkB9D,EAAI+D,EAAgBF,GAC3C,GAAIK,GAAMxE,KAAKgF,OAAOX,EAAgBF,EACtCK,GAAIlE,GAAM,EACVN,KAAKiF,SAAST,EAAKH,EAAgBF,MAGrC1B,IAAK,WACL2B,MAAO,SAAkB9D,EAAI+D,EAAgBF,GAC3C,GAAIK,GAAMxE,KAAKgF,OAAOX,EAAgBF,SAC/BK,GAAIlE,GACXN,KAAKiF,SAAST,EAAKH,EAAgBF,MAGrC1B,IAAK,MACL2B,MAAO,SAAa3B,GAClB,MAAO,IAAInB,GAAQC,QAAQ,SAAU2D,GACnC,GAAIC,GAAON,aAAaC,QAAQrC,EAChCyC,GAAQC,EAAOzB,EAASyB,GAAQV,aAIpChC,IAAK,MACL2B,MAAO,SAAa3B,EAAK2B,GACvB,GAAIF,GAAwBlE,IAC5B,OAAOkE,GAAsBkB,IAAI3C,GAAKjB,KAAK,SAAU2D,GAKnD,MAJIA,IACF3B,EAAU2B,EAAMvB,EAAeQ,IAEjCS,aAAaE,QAAQtC,EAAKgB,EAAO0B,GAAQf,IAClCF,EAAsBkB,IAAI3C,QAIrCA,IAAK,MACL2B,MAAO,SAAa3B,GAClB,MAAO,IAAInB,GAAQC,QAAQ,SAAU2D,GACnCL,aAAaQ,WAAW5C,GACxByC,SAIJzC,IAAK,OACL2B,MAAO,SAAcC,EAAgB/D,EAAI6D,GACvC,GAAImB,GAAQtF,IAEZ,OAAOoB,GAAW,SAAU8D,EAASrD,GACnCV,EAAU,WACRmE,EAAMF,IAAIE,EAAMC,UAAUlB,EAAgBF,MAAe7D,IAAKkB,KAAK,SAAU2D,GAC3E,MAAQA,GAAyCD,EAAQC,GAA1CtD,EAAO,GAAI2D,OAAM,gBAC/B3D,UAKTY,IAAK,UACL2B,MAAO,SAAiBC,EAAgBoB,EAAQtB,GAC9C,GAAIuB,GAAS1F,IAEb,OAAOoB,GAAW,SAAU8D,EAASrD,GACnCV,EAAU,WACR,KACE,WACEgD,EAAUA,MACJ,oBAAsBA,KAC1BA,EAAQwB,kBAAmB,EAE7B,IAAIC,MACApB,EAAMtB,EAAKwC,EAAOV,OAAOX,EAAgBF,GAC7CR,GAAQa,EAAK,SAAUlE,GACrB,GAAIuF,GAAWhB,aAAaC,QAAQY,EAAOH,UAAUlB,EAAgBF,EAAS7D,GAC1EuF,IACFD,EAAM7E,KAAK2C,EAASmC,MAGxBX,EAAQrB,EAAOrD,KAAK4C,EAAYwC,EAAOvB,EAAeC,KAAMmB,EAAQtB,OAEtE,MAAOvC,GACPC,EAAOD,WAMfa,IAAK,SACL2B,MAAO,SAAgBC,EAAgByB,EAAO3B,GAC5C,GAAI4B,GAAS/F,IAEb,OAAOoB,GAAW,SAAU8D,EAASrD,GACnCV,EAAU,WACR2E,EAAMzB,EAAe2B,aAAeF,EAAMzB,EAAe2B,cAAgB7C,IACzEgB,EAAUA,MACV4B,EAAOE,IAAI1C,EAASwC,EAAOR,UAAUlB,EAAgBF,EAAS2B,EAAMzB,EAAe2B,eAAgB1C,EAAKwC,EAAOzB,EAAe6B,qBAAuB1E,KAAK,SAAU2D,GAClKY,EAAOI,SAAShB,EAAKd,EAAe2B,aAAc3B,EAAgBF,GAClEe,EAAQC,KACP,SAAStD,UAKlBY,IAAK,SACL2B,MAAO,SAAgBC,EAAgB/D,EAAIwF,EAAO3B,GAChD,GAAIiC,GAASpG,IAEb,OAAOoB,GAAW,SAAU8D,EAASrD,GACnCV,EAAU,WACRgD,EAAUA,MACViC,EAAOH,IAAIG,EAAOb,UAAUlB,EAAgBF,EAAS7D,GAAKgD,EAAKwC,EAAOzB,EAAe6B,qBAAuB1E,KAAK,SAAU2D,GACzHiB,EAAOD,SAAShB,EAAKd,EAAe2B,aAAc3B,EAAgBF,GAClEe,EAAQC,KACP,SAAStD,UAKlBY,IAAK,YACL2B,MAAO,SAAmBC,EAAgByB,EAAOL,EAAQtB,GACvD,GAAIkC,GAASrG,IAEb,OAAOA,MAAKsG,QAAQjC,EAAgBoB,EAAQtB,GAAS3C,KAAK,SAAUoE,GAClE,GAAIW,KAIJ,OAHA5C,GAAQiC,EAAO,SAAUT,GACvB,MAAOoB,GAAMxF,KAAKsF,EAAOG,OAAOnC,EAAgBc,EAAKd,EAAe2B,aAAc1C,EAAKwC,EAAOzB,EAAe6B,oBAAuB/B,MAE/H7C,EAAQC,QAAQkF,IAAIF,QAI/B9D,IAAK,UACL2B,MAAO,SAAiBC,EAAgB/D,EAAI6D,GAC1C,GAAIuC,GAAS1G,IAEb,OAAOoB,GAAW,SAAU8D,EAASrD,GACnCV,EAAU,WACRgD,EAAUA,MACVuC,EAAOC,IAAID,EAAOnB,UAAUlB,EAAgBF,EAAS7D,IAAKkB,KAAK,WAC7D,MAAOkF,GAAOE,SAAStG,EAAI+D,EAAeC,KAAMH,KAC/C3C,KAAK,WACN,MAAO0D,GAAQ,OACdrD,UAKTY,IAAK,aACL2B,MAAO,SAAoBC,EAAgBoB,EAAQtB,GACjD,GAAI0C,GAAS7G,IAEb,OAAOA,MAAKsG,QAAQjC,EAAgBoB,EAAQtB,GAAS3C,KAAK,SAAUoE,GAClE,GAAIW,KAIJ,OAHA5C,GAAQiC,EAAO,SAAUT,GACvB,MAAOoB,GAAMxF,KAAK8F,EAAOC,QAAQzC,EAAgBc,EAAKd,EAAe2B,aAAc7B,MAE9E7C,EAAQC,QAAQkF,IAAIF,SAK1BrC,IAGTtE,GAAOD,QAAUuE,GAIZ,SAAStE,EAAQD,EAASQ,GAE/BP,EAAOD,QAAUM,GAIZ,SAASL,EAAQD,EAASQ,GAE/B,GAAI4G,GAAS5G,EAAoB,GAKxB+C,EAAOX,OAAOW,MAAQ,SAAU8D,GAC7B,GAAI9D,KAIJ,OAHA6D,GAAOC,EAAK,SAASC,EAAKxE,GACtBS,EAAKnC,KAAK0B,KAEPS,EAGftD,GAAOD,QAAUuD,GAOhB,SAAStD,EAAQD,EAASQ,GAY7B,QAASgD,KACP,MACI+D,GAAQ,GAAG,IACXA,EAAQ,GAAG,KAGLA,EAAQ,GAAI,IAElBC,EAAO,EAAG,EAAG,IAAK,KAAOD,EAAQ,GAAG,IACpCA,EAAQ,IAnBhB,GAAIA,GAAU/G,EAAoB,GAC9BgH,EAAShH,EAAoB,EAqB/BP,GAAOD,QAAUwD,GAMd,SAASvD,EAAQD,EAASQ,GAU3B,QAAS4G,GAAOC,EAAK3F,EAAI+F,GACrBC,EAAML,EAAK,SAASC,EAAKxE,GACrB,MAAI6E,GAAON,EAAKvE,GACLpB,EAAGb,KAAK4G,EAASJ,EAAIvE,GAAMA,EAAKuE,GAD3C,SAVZ,GAAIM,GAASnH,EAAoB,GAC7BkH,EAAQlH,EAAoB,GAe5BP,GAAOD,QAAUoH,GAOhB,SAASnH,EAAQD,EAASQ,GAS3B,QAAS+G,GAAQK,GACbA,EAAOA,GAAQA,EAAO,EAAGA,EAAO,CAEhC,KADA,GAAIC,GAAM,GACHD,KACHC,GAAOL,EAAOM,EAElB,OAAOD,GAbf,GAAIL,GAAShH,EAAoB,GAEzBsH,EAAS,mBAAmBC,MAAM,GActC9H,GAAOD,QAAUuH,GAOhB,SAAStH,EAAQD,EAASQ,GAS3B,QAASgH,GAAOvB,GACZ,GAAI5D,GAA+B,IAArB2F,UAAU1G,QAAgB2G,EAAQhC,GAASA,EAAQ+B,SACjE,OAAO3F,GAAQ6F,EAAQ,EAAG7F,EAAOf,OAAS,IATlD,GAAI4G,GAAU1H,EAAoB,GAC9ByH,EAAUzH,EAAoB,EAW9BP,GAAOD,QAAUwH,GAOhB,SAASvH,EAAQD,EAASQ,GAS3B,QAAS0H,GAAQC,EAAKC,GAMlB,MALAD,GAAa,MAAPA,EAAaE,IAAYF,EAC/BC,EAAa,MAAPA,EAAaE,IAAYF,EAIxBG,KAAKC,MAAOC,EAAKN,EAAM,GAAKC,EAAM,gBAbjD,GAAIC,GAAU7H,EAAoB,IAC9B8H,EAAU9H,EAAoB,IAC9BiI,EAAOjI,EAAoB,GAc3BP,GAAOD,QAAUkI,GAMhB,SAASjI,EAAQD,EAASQ,GAE/B,GAAIkI,GAASlI,EAAoB,IAGzByH,EAAUU,MAAMV,SAAW,SAAUX,GACrC,MAAOoB,GAAOpB,EAAK,SAEvBrH,GAAOD,QAAUiI,GAMhB,SAAShI,EAAQD,EAASQ,GAO1B,QAASmH,GAAON,EAAKuB,GACjB,MAAOhG,QAAOM,UAAU2F,eAAehI,KAAKwG,EAAKuB,GAGrD3I,EAAOD,QAAU2H,GAOjB,SAAS1H,EAAQD,EAASQ,GAO3B,QAASsI,KACLC,GACQ,WACA,iBACA,UACA,iBACA,gBACA,uBACA,eAGRC,GAAkB,CAElB,KAAK,GAAIlG,MAAQmG,SAAY,MACzBD,GAAkB,EAS1B,QAAStB,GAAML,EAAK3F,EAAI+F,GACpB,GAAI3E,GAAKP,EAAI,CAKU,OAAnByG,GAAyBF,GAE7B,KAAKhG,IAAOuE,GACR,GAAI6B,EAAKxH,EAAI2F,EAAKvE,EAAK2E,MAAa,EAChC,KAKR,IAAIuB,EAIA,IAHA,GAAIG,GAAO9B,EAAI+B,YACXC,IAAYF,GAAQ9B,IAAQ8B,EAAKjG,WAE9BJ,EAAMiG,EAAWxG,QAUP,gBAARO,IACKuG,IAAW1B,EAAON,EAAKvE,KAC7BuE,EAAIvE,KAASF,OAAOM,UAAUJ,IAE1BoG,EAAKxH,EAAI2F,EAAKvE,EAAK2E,MAAa,MAQpD,QAASyB,GAAKxH,EAAI2F,EAAKvE,EAAK2E,GACxB,MAAO/F,GAAGb,KAAK4G,EAASJ,EAAIvE,GAAMA,EAAKuE,GAtE/C,GAEQ2B,GACAD,EAHJpB,EAASnH,EAAoB,EAyE7BP,GAAOD,QAAU0H,GAOhB,SAASzH,EAAQD,EAASQ,GAM3BP,EAAOD,QAAU,aAMhB,SAASC,EAAQD,EAASQ,GAM3BP,EAAOD,QAAU,YAMhB,SAASC,EAAQD,EAASQ,GAS3B,QAASiI,GAAKN,EAAKC,GAGf,MAFAD,GAAa,MAAPA,EAAaE,EAAUF,EAC7BC,EAAa,MAAPA,EAAaE,EAAUF,EACtBD,GAAOC,EAAMD,GAAOmB,IAVnC,GAAIA,GAAS9I,EAAoB,IAC7B6H,EAAU7H,EAAoB,IAC9B8H,EAAU9H,EAAoB,GAW9BP,GAAOD,QAAUyI,GAMhB,SAASxI,EAAQD,EAASQ,GAM3B,QAASkI,GAAOpB,EAAKiC,GACjB,MAAOC,GAAOlC,KAASiC,EAL/B,GAAIC,GAAShJ,EAAoB,GAO7BP,GAAOD,QAAU0I,GAMhB,SAASzI,EAAQD,EAASQ,GAU3B,QAAS8I,KACL,MAAOA,GAAOG,MAIlBH,EAAOG,IAAMlB,KAAKe,OAElBrJ,EAAOD,QAAUsJ,GAOhB,SAASrJ,EAAQD,EAASQ,GAW3B,QAASgJ,GAAOlC,GACZ,MAAY,QAARA,EACO,OACAA,IAAQoC,EACR,YAEAC,EAAOT,KAAMU,EAAU/I,KAAKyG,IAAO,GAblD,GAEIoC,GAFAC,EAAS,oBACTC,EAAYhH,OAAOM,UAAU+F,QAejChJ,GAAOD,QAAUwJ"}